{{template "base"}}
<style>
table {
	display: inline-block;
}

td {
	max-width: 20em;
}

table.description td {
	white-space: pre-wrap;
}

.diff-new{
	background-color:green;
}

.diff-del{
	background-color:red;
}

.log-action-create {
	background-color: green;
}

.log-action-delete {
	background-color: red;
}
</style>

{{with .Logs}}
{{range .}}
<div class="box">
	<div><a href="/user/{{.User.ID}}">{{.User.ID}}</a> - {{.User.Name}}</div>
	<div>{{.Timestamp}}</div>
	<ul>
	{{range .Posts}}
		<li>
		{{template "thumbnail" (wrap2 "Post" "UserInfo" .Post $.UserInfo)}}
		{{with .Tags}}
		{{if .PostID}}
			<table>
				<caption>Tags</caption>
			{{range .Added}}
				<tr>
					<td class="log-action-create">+</td>
					<td class="namespace-{{.Namespace}}">{{.}}</td>
				</tr>
			{{end}}
			{{range .Removed}}
				<tr>
					<td class="log-action-delete">-</td>
					<td class="namespace-{{.Namespace}}">{{.}}</td>
				</tr>
			{{end}}
			</table>
		{{end}}
		{{end}}
		{{if .Description.PostID}}
		{{with .Description}}
			<table class="description">
				<caption>Description</caption>
				<th>New</th>
				<th>Old</th>
				<th>Diff</th>
				<tr>
					<td>{{.Description}}</td>
					<td>{{.Old}}</td>
					<td>{{noescape .Diff}}</td>
				</tr>
			</table>
		{{end}}
		{{end}}
		{{with .MetaData}}
			<table>
				<caption>MetaData</caption>
				<th>Action</th>
				<th>Namespace</th>
				<th>Data</th>
			{{range .}}
				<tr class="log-action-{{.Action}}">
					<td>{{.Action}}</td>
					<td>{{.Namespace}}</td>
					<td>{{.MetaData}}</td>
				</tr>
			{{end}}
			</table>
		{{end}}
		{{with .CreationDates}}
			<table>
				<caption>Release Dates</caption>
				<th>Action</th>
				<th>Date</th>
			{{range .}}
				<tr class="log-action-{{.Action}}">
					<td>{{.Action}}</td>
					<td>{{.Date}}</td>
				</tr>
			{{end}}
			</table>
		{{end}}
		</li>
	{{end}}
	</ul>
	{{with .Alts}}
	{{if .AltGroup}}
		<span>Assigned alts</span>
		{{template "thumbnail-cards" wrap2 "Posts" "UserInfo" .Posts $.UserInfo}}
	{{end}}
	{{end}}
</div>
{{end}}
{{else}}
SORRY NOTHING
{{end}}
{{template "baseEnd"}}
